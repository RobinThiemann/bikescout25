/*! Capacitor: https://capacitor.ionicframework.com/ - MIT License */
var capacitorExports=function(c){"use strict";(o=c.CameraSource||(c.CameraSource={})).Prompt="PROMPT",o.Camera="CAMERA",o.Photos="PHOTOS",(a=c.CameraDirection||(c.CameraDirection={})).Rear="REAR",a.Front="FRONT",(l=c.CameraResultType||(c.CameraResultType={})).Uri="uri",l.Base64="base64",l.DataUrl="dataUrl",(y=c.FilesystemDirectory||(c.FilesystemDirectory={})).Documents="DOCUMENTS",y.Data="DATA",y.Cache="CACHE",y.External="EXTERNAL",y.ExternalStorage="EXTERNAL_STORAGE",(S=c.FilesystemEncoding||(c.FilesystemEncoding={})).UTF8="utf8",S.ASCII="ascii",S.UTF16="utf16",(_=c.HapticsImpactStyle||(c.HapticsImpactStyle={})).Heavy="HEAVY",_.Medium="MEDIUM",_.Light="LIGHT",(K=c.HapticsNotificationType||(c.HapticsNotificationType={})).SUCCESS="SUCCESS",K.WARNING="WARNING",K.ERROR="ERROR",(ue=c.KeyboardStyle||(c.KeyboardStyle={})).Dark="DARK",ue.Light="LIGHT",(fe=c.KeyboardResize||(c.KeyboardResize={})).Body="body",fe.Ionic="ionic",fe.Native="native",fe.None="none",(me=c.ActionSheetOptionStyle||(c.ActionSheetOptionStyle={})).Default="DEFAULT",me.Destructive="DESTRUCTIVE",me.Cancel="CANCEL",(ve=c.PermissionType||(c.PermissionType={})).Camera="camera",ve.Photos="photos",ve.Geolocation="geolocation",ve.Notifications="notifications",ve.ClipboardRead="clipboard-read",ve.ClipboardWrite="clipboard-write",ve.Microphone="microphone",(be=c.PhotosAlbumType||(c.PhotosAlbumType={})).Smart="smart",be.Shared="shared",be.User="user",(Ee=c.StatusBarStyle||(c.StatusBarStyle={})).Dark="DARK",Ee.Light="LIGHT",(Le=c.StatusBarAnimation||(c.StatusBarAnimation={})).None="NONE",Le.Slide="SLIDE",Le.Fade="FADE";var e=(t.prototype.pluginMethodNoop=function(e,t,n){return Promise.reject(n+" does not have electron implementation.")},t.prototype.getPlatform=function(){return this.platform},t.prototype.isPluginAvailable=function(e){return this.Plugins.hasOwnProperty(e)},t.prototype.convertFileSrc=function(e){return e},t.prototype.handleError=function(e){console.error(e)},t);function t(){var t=this;this.Plugins={},this.platform="electron",this.isNative=!1,this.Plugins=new Proxy(this.Plugins,{get:function(e,n){if(void 0!==e[n])return e[n];var r=t;return new Proxy({},{get:function(e,t){return void 0===e[t]?r.pluginMethodNoop.bind(r,e,t,n):e[t]}})}})}c.Capacitor=new e,c.Capacitor=window.Capacitor||c.Capacitor,window.Capacitor||(window.Capacitor=c.Capacitor);var n=c.Capacitor.Plugins,r=(i.prototype.pluginMethodNoop=function(e,t,n){return Promise.reject(n+" does not have web implementation.")},i.prototype.getPlatform=function(){return this.platform},i.prototype.isPluginAvailable=function(e){return this.Plugins.hasOwnProperty(e)},i.prototype.convertFileSrc=function(e){return e},i.prototype.handleError=function(e){console.error(e)},i);function i(){var t=this;this.platform="web",this.isNative=!1,this.Plugins={},"undefined"!=typeof Proxy&&(this.Plugins=new Proxy(this.Plugins,{get:function(e,n){if(void 0!==e[n])return e[n];var r=t;return new Proxy({},{get:function(e,t){return void 0===e[t]?r.pluginMethodNoop.bind(r,e,t,n):e[t]}})}}))}var o=((Fe="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).Capacitor=Fe.Capacitor||new r).Plugins,a=(s.prototype.addPlugin=function(e){this.plugins[e.config.name]=e},s.prototype.getPlugin=function(e){return this.plugins[e]},s.prototype.loadPlugin=function(e){var t=this.getPlugin(e);t?t.load():console.error("Unable to load web plugin "+e+", no such plugin found.")},s.prototype.getPlugins=function(){var e,t=[];for(e in this.plugins)t.push(this.plugins[e]);return t},s);function s(){this.plugins={},this.loadedPlugins={}}var u=new a,l=(p.prototype.addWindowListener=function(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0},p.prototype.removeWindowListener=function(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)},p.prototype.addListener=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);var r=this.windowListeners[e];return r&&!r.registered&&this.addWindowListener(r),{remove:function(){n.removeListener(e,t)}}},p.prototype.removeListener=function(e,t){var n=this.listeners[e];n&&(t=n.indexOf(t),this.listeners[e].splice(t,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e]))},p.prototype.removeAllListeners=function(){for(var e in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}},p.prototype.notifyListeners=function(e,t){e=this.listeners[e];e&&e.forEach(function(e){return e(t)})},p.prototype.hasListeners=function(e){return!!this.listeners[e].length},p.prototype.registerWindowListener=function(e,t){var n=this;this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:function(e){n.notifyListeners(t,e)}}},p.prototype.requestPermissions=function(){return Capacitor.isNative?Capacitor.nativePromise(this.config.name,"requestPermissions",{}):Promise.resolve({results:[]})},p.prototype.load=function(){this.loaded=!0},p);function p(e,t){this.config=e,this.loaded=!1,this.listeners={},this.windowListeners={},(t||u).addPlugin(this)}function d(e,t){e.hasOwnProperty(t.config.name)&&!h(t)||(e[t.config.name]=t)}var f,h=function(e){return e.config.platforms&&0<=e.config.platforms.indexOf(Capacitor.platform)},y=function(e){for(var t=0,n=u.getPlugins();t<n.length;t++){var r=n[t];d(e,r)}},m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function v(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function w(e,a,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}o((c=c.apply(e,a||[])).next())})}function g(n,r){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function b(){return f.call(this,{name:"Accessibility",platforms:["web"]})||this}new(v(b,f=l),b.prototype.isScreenReaderEnabled=function(){throw new Error("Feature not available in the browser")},b.prototype.speak=function(e){if(!("speechSynthesis"in window))return Promise.reject("Browser does not support the Speech Synthesis API");var t=new SpeechSynthesisUtterance(e.value);return e.language&&(t.lang=e.language),window.speechSynthesis.speak(t),Promise.resolve()},b);var P,S=(v(E,P=l),E.prototype.exitApp=function(){throw new Error("Method not implemented.")},E.prototype.canOpenUrl=function(e){return Promise.resolve({value:!0})},E.prototype.openUrl=function(e){return Promise.resolve({completed:!0})},E.prototype.getLaunchUrl=function(){return Promise.resolve({url:""})},E.prototype.getState=function(){return Promise.resolve({isActive:!0!==document.hidden})},E.prototype.handleVisibilityChange=function(){var e={isActive:!0!==document.hidden};this.notifyListeners("appStateChange",e)},E);function E(){var e=P.call(this,{name:"App",platforms:["web"]})||this;return"undefined"!=typeof document&&document.addEventListener("visibilitychange",e.handleVisibilityChange.bind(e),!1),e}var x;new S;function C(){return x.call(this,{name:"Browser",platforms:["web"]})||this}var L;new(v(C,x=l),C.prototype.open=function(t){return w(this,void 0,void 0,function(){return g(this,function(e){return this._lastWindow=window.open(t.url,t.windowName||"_blank"),[2,Promise.resolve()]})})},C.prototype.prefetch=function(e){return w(this,void 0,void 0,function(){return g(this,function(e){return[2,Promise.resolve()]})})},C.prototype.close=function(){return w(this,void 0,void 0,function(){return g(this,function(e){return this._lastWindow&&this._lastWindow.close(),[2,Promise.resolve()]})})},C);function R(){return L.call(this,{name:"Camera",platforms:["web"]})||this}var O;new(v(R,L=l),R.prototype.getPhoto=function(s){return w(this,void 0,void 0,function(){var t=this;return g(this,function(e){return[2,new Promise(function(o,a){return w(t,void 0,void 0,function(){var i,t=this;return g(this,function(e){switch(e.label){case 0:return s.webUseInput?(this.fileInputExperience(s,o),[3,7]):[3,1];case 1:if(!customElements.get("pwa-camera-modal"))return[3,6];i=document.createElement("pwa-camera-modal"),document.body.appendChild(i),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,i.componentOnReady()];case 3:return e.sent(),i.addEventListener("onPhoto",function(r){return w(t,void 0,void 0,function(){var t,n;return g(this,function(e){switch(e.label){case 0:return null!==(t=r.detail)?[3,1]:(a("User cancelled photos app"),[3,4]);case 1:return t instanceof Error?(a(t.message),[3,4]):[3,2];case 2:return n=o,[4,this._getCameraPhoto(t,s)];case 3:n.apply(void 0,[e.sent()]),e.label=4;case 4:return i.dismiss(),document.body.removeChild(i),[2]}})})}),i.present(),[3,5];case 4:return e.sent(),this.fileInputExperience(s,o),[3,5];case 5:return[3,7];case 6:console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/pwa-elements."),this.fileInputExperience(s,o),e.label=7;case 7:return[2]}})})})]})})},R.prototype.fileInputExperience=function(i,o){function a(){s.parentNode&&s.parentNode.removeChild(s)}var s=document.querySelector("#_capacitor-camera-input");s||((s=document.createElement("input")).id="_capacitor-camera-input",s.type="file",document.body.appendChild(s)),s.accept="image/*",s.capture=!0,i.source===c.CameraSource.Photos||i.source===c.CameraSource.Prompt?s.removeAttribute("capture"):i.direction===c.CameraDirection.Front?s.capture="user":i.direction===c.CameraDirection.Rear&&(s.capture="environment"),s.addEventListener("change",function(e){var t,n=s.files[0],r="jpeg";"image/png"===n.type?r="png":"image/gif"===n.type&&(r="gif"),i.resultType===c.CameraResultType.DataUrl||i.resultType===c.CameraResultType.Base64?((t=new FileReader).addEventListener("load",function(){var e;i.resultType===c.CameraResultType.DataUrl?o({dataUrl:t.result,format:r}):i.resultType===c.CameraResultType.Base64&&(e=t.result.split(",")[1],o({base64String:e,format:r})),a()}),t.readAsDataURL(n)):(o({webPath:URL.createObjectURL(n),format:r}),a())}),s.click()},R.prototype._getCameraPhoto=function(e,o){return new Promise(function(t,n){var r=new FileReader,i=e.type.split("/")[1];o.resultType===c.CameraResultType.Uri?t({webPath:URL.createObjectURL(e),format:i}):(r.readAsDataURL(e),r.onloadend=function(){var e=r.result;o.resultType===c.CameraResultType.DataUrl?t({dataUrl:e,format:i}):t({base64String:e.split(",")[1],format:i})},r.onerror=function(e){n(e)})})},R);function F(){return O.call(this,{name:"Clipboard",platforms:["web"]})||this}var T;new(v(F,O=l),F.prototype.write=function(r){return w(this,void 0,void 0,function(){var t,n;return g(this,function(e){switch(e.label){case 0:return navigator.clipboard?void 0!==r.string||r.url?navigator.clipboard.writeText?[4,navigator.clipboard.writeText(void 0!==r.string?r.string:r.url)]:[2,Promise.reject("Writting to clipboard not supported in this browser")]:[3,2]:[2,Promise.reject("Clipboard API not available in this browser")];case 1:return e.sent(),[3,10];case 2:if(!r.image)return[3,9];if(!navigator.clipboard.write)return[2,Promise.reject("Setting images not supported in this browser")];e.label=3;case 3:return e.trys.push([3,7,,8]),[4,fetch(r.image)];case 4:return[4,e.sent().blob()];case 5:return t=e.sent(),n=new ClipboardItem(((n={})[t.type]=t,n)),[4,navigator.clipboard.write([n])];case 6:return e.sent(),[3,8];case 7:return e.sent(),[2,Promise.reject("Failed to write image")];case 8:return[3,10];case 9:return[2,Promise.reject("Nothing to write")];case 10:return[2,Promise.resolve()]}})})},F.prototype.read=function(){return w(this,void 0,void 0,function(){var t,n,r;return g(this,function(e){switch(e.label){case 0:return navigator.clipboard?navigator.clipboard.read?[3,1]:navigator.clipboard.readText?[2,this.readText()]:[2,Promise.reject("Reading from clipboard not supported in this browser")]:[2,Promise.reject("Clipboard API not available in this browser")];case 1:return e.trys.push([1,5,,6]),[4,navigator.clipboard.read()];case 2:return t=e.sent(),n=t[0].types[0],[4,t[0].getType(n)];case 3:return r=e.sent(),[4,this._getBlobData(r,n)];case 4:return r=e.sent(),[2,Promise.resolve({value:r,type:n})];case 5:return e.sent(),[2,this.readText()];case 6:return[2]}})})},F.prototype.readText=function(){return w(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:return[4,navigator.clipboard.readText()];case 1:return t=e.sent(),[2,Promise.resolve({value:t,type:"text/plain"})]}})})},F.prototype._getBlobData=function(e,i){return new Promise(function(t,n){var r=new FileReader;i.includes("image")?r.readAsDataURL(e):r.readAsText(e),r.onloadend=function(){var e=r.result;t(e)},r.onerror=function(e){n(e)}})},F);function D(){var e=T.call(this,{name:"Filesystem",platforms:["web"]})||this;return e.DEFAULT_DIRECTORY=c.FilesystemDirectory.Data,e.DB_VERSION=1,e.DB_NAME="Disc",e._writeCmds=["add","put","delete"],e}function N(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(e){if(e&&"object"==typeof e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var k;new(v(D,T=l),D.prototype.initDb=function(){return w(this,void 0,void 0,function(){var r=this;return g(this,function(e){if(void 0!==this._db)return[2,this._db];if(!("indexedDB"in window))throw new Error("This browser doesn't support IndexedDB");return[2,new Promise(function(e,t){var n=indexedDB.open(r.DB_NAME,r.DB_VERSION);n.onupgradeneeded=D.doUpgrade,n.onsuccess=function(){r._db=n.result,e(n.result)},n.onerror=function(){return t(n.error)},n.onblocked=function(){console.warn("db blocked")}})]})})},D.doUpgrade=function(e){var t=e.target.result;e.oldVersion,t.objectStoreNames.contains("FileStorage")&&t.deleteObjectStore("FileStorage"),t.createObjectStore("FileStorage",{keyPath:"path"}).createIndex("by_folder","folder")},D.prototype.dbRequest=function(a,s){return w(this,void 0,void 0,function(){var o;return g(this,function(e){return o=-1!==this._writeCmds.indexOf(a)?"readwrite":"readonly",[2,this.initDb().then(function(i){return new Promise(function(e,t){var n=i.transaction(["FileStorage"],o).objectStore("FileStorage"),r=n[a].apply(n,s);r.onsuccess=function(){return e(r.result)},r.onerror=function(){return t(r.error)}})})]})})},D.prototype.dbIndexRequest=function(a,s,c){return w(this,void 0,void 0,function(){var o;return g(this,function(e){return o=-1!==this._writeCmds.indexOf(s)?"readwrite":"readonly",[2,this.initDb().then(function(i){return new Promise(function(e,t){var n=i.transaction(["FileStorage"],o).objectStore("FileStorage").index(a),r=n[s].apply(n,c);r.onsuccess=function(){return e(r.result)},r.onerror=function(){return t(r.error)}})})]})})},D.prototype.getPath=function(e,t){e=e||this.DEFAULT_DIRECTORY;var n=void 0!==t?t.replace(/^[/]+|[/]+$/g,""):"",e="/"+e;return""!==t&&(e+="/"+n),e},D.prototype.clear=function(){return w(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:return[4,this.initDb()];case 1:return t=e.sent(),t=t.transaction(["FileStorage"],"readwrite"),t.objectStore("FileStorage").clear(),[2,{}]}})})},D.prototype.readFile=function(n){return w(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:return t=this.getPath(n.directory,n.path),[4,this.dbRequest("get",[t])];case 1:if(void 0===(t=e.sent()))throw Error("File does not exist.");return[2,{data:t.content}]}})})},D.prototype.writeFile=function(c){return w(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return g(this,function(e){switch(e.label){case 0:return t=this.getPath(c.directory,c.path),n=c.data,r=c.recursive,[4,this.dbRequest("get",[t])];case 1:if((a=e.sent())&&"directory"===a.type)throw"The supplied path is a directory.";return i=c.encoding,o=t.substr(0,t.lastIndexOf("/")),[4,this.dbRequest("get",[o])];case 2:return void 0!==e.sent()?[3,4]:-1===(a=o.indexOf("/",1))?[3,4]:(a=o.substr(a),[4,this.mkdir({path:a,directory:c.directory,recursive:r})]);case 3:e.sent(),e.label=4;case 4:return s=Date.now(),s={path:t,folder:o,type:"file",size:n.length,ctime:s,mtime:s,content:!i&&0<=n.indexOf(",")?n.split(",")[1]:n},[4,this.dbRequest("put",[s])];case 5:return e.sent(),[2,{uri:s.path}]}})})},D.prototype.appendFile=function(u){return w(this,void 0,void 0,function(){var t,n,r,i,o,a,s,c;return g(this,function(e){switch(e.label){case 0:return t=this.getPath(u.directory,u.path),n=u.data,r=t.substr(0,t.lastIndexOf("/")),i=Date.now(),o=i,[4,this.dbRequest("get",[t])];case 1:if((a=e.sent())&&"directory"===a.type)throw"The supplied path is a directory.";return[4,this.dbRequest("get",[r])];case 2:return void 0!==e.sent()?[3,4]:-1===(s=r.indexOf("/",1))?[3,4]:(c=r.substr(s),[4,this.mkdir({path:c,directory:u.directory,recursive:!0})]);case 3:e.sent(),e.label=4;case 4:return void 0!==a&&(n=a.content+n,o=a.ctime),c={path:t,folder:r,type:"file",size:n.length,ctime:o,mtime:i,content:n},[4,this.dbRequest("put",[c])];case 5:return e.sent(),[2,{}]}})})},D.prototype.deleteFile=function(n){return w(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:return t=this.getPath(n.directory,n.path),[4,this.dbRequest("get",[t])];case 1:if(void 0===e.sent())throw Error("File does not exist.");return[4,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(t)])];case 2:if(0!==e.sent().length)throw Error("Folder is not empty.");return[4,this.dbRequest("delete",[t])];case 3:return e.sent(),[2,{}]}})})},D.prototype.mkdir=function(c){return w(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return g(this,function(e){switch(e.label){case 0:return t=this.getPath(c.directory,c.path),n=c.recursive,r=t.substr(0,t.lastIndexOf("/")),i=(t.match(/\//g)||[]).length,[4,this.dbRequest("get",[r])];case 1:return o=e.sent(),[4,this.dbRequest("get",[t])];case 2:if(a=e.sent(),1===i)throw Error("Cannot create Root directory");if(void 0!==a)throw Error("Current directory does already exist.");if(!n&&2!==i&&void 0===o)throw Error("Parent directory must exist");return n&&2!==i&&void 0===o?(s=r.substr(r.indexOf("/",1)),[4,this.mkdir({path:s,directory:c.directory,recursive:n})]):[3,4];case 3:e.sent(),e.label=4;case 4:return s=Date.now(),s={path:t,folder:r,type:"directory",size:0,ctime:s,mtime:s},[4,this.dbRequest("put",[s])];case 5:return e.sent(),[2,{}]}})})},D.prototype.rmdir=function(u){return w(this,void 0,void 0,function(){var t,n,r,i,o,a,s,c;return g(this,function(e){switch(e.label){case 0:return t=u.path,n=u.directory,r=u.recursive,i=this.getPath(n,t),[4,this.dbRequest("get",[i])];case 1:if(void 0===(o=e.sent()))throw Error("Folder does not exist.");if("directory"!==o.type)throw Error("Requested path is not a directory");return[4,this.readdir({path:t,directory:n})];case 2:if(0!==(s=e.sent()).files.length&&!r)throw Error("Folder is not empty");a=0,s=s.files,e.label=3;case 3:return a<s.length?(c=s[a],c=t+"/"+c,[4,this.stat({path:c,directory:n})]):[3,9];case 4:return"file"!==e.sent().type?[3,6]:[4,this.deleteFile({path:c,directory:n})];case 5:return e.sent(),[3,8];case 6:return[4,this.rmdir({path:c,directory:n,recursive:r})];case 7:e.sent(),e.label=8;case 8:return a++,[3,3];case 9:return[4,this.dbRequest("delete",[i])];case 10:return e.sent(),[2,{}]}})})},D.prototype.readdir=function(r){return w(this,void 0,void 0,function(){var t,n;return g(this,function(e){switch(e.label){case 0:return t=this.getPath(r.directory,r.path),[4,this.dbRequest("get",[t])];case 1:if(n=e.sent(),""!==r.path&&void 0===n)throw Error("Folder does not exist.");return[4,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(t)])];case 2:return n=e.sent(),[2,{files:n.map(function(e){return e.substring(t.length+1)})}]}})})},D.prototype.getUri=function(r){return w(this,void 0,void 0,function(){var t,n;return g(this,function(e){switch(e.label){case 0:return t=this.getPath(r.directory,r.path),[4,this.dbRequest("get",[t])];case 1:return void 0!==(n=e.sent())?[3,3]:[4,this.dbRequest("get",[t+"/"])];case 2:n=e.sent(),e.label=3;case 3:if(void 0===n)throw Error("Entry does not exist.");return[2,{uri:n.path}]}})})},D.prototype.stat=function(r){return w(this,void 0,void 0,function(){var t,n;return g(this,function(e){switch(e.label){case 0:return t=this.getPath(r.directory,r.path),[4,this.dbRequest("get",[t])];case 1:return void 0!==(n=e.sent())?[3,3]:[4,this.dbRequest("get",[t+"/"])];case 2:n=e.sent(),e.label=3;case 3:if(void 0===n)throw Error("Entry does not exist.");return[2,{type:n.type,size:n.size,ctime:n.ctime,mtime:n.mtime,uri:n.path}]}})})},D.prototype.rename=function(t){return w(this,void 0,void 0,function(){return g(this,function(e){return[2,this._copy(t,!0)]})})},D.prototype.copy=function(t){return w(this,void 0,void 0,function(){return g(this,function(e){return[2,this._copy(t,!1)]})})},D.prototype._copy=function(y,m){return void 0===m&&(m=!1),w(this,void 0,void 0,function(){var t,n,r,o,i,a,s,c,u,l,p,d,f,h=this;return g(this,function(e){switch(e.label){case 0:if(t=y.to,n=y.from,r=y.directory,o=y.toDirectory,!t||!n)throw Error("Both to and from must be provided");if(o=o||r,s=this.getPath(r,n),a=this.getPath(o,t),s===a)return[2,{}];if(a.startsWith(s))throw Error("To path cannot contain the from path");e.label=1;case 1:return e.trys.push([1,3,,6]),[4,this.stat({path:t,directory:o})];case 2:return i=e.sent(),[3,6];case 3:return e.sent(),(a=t.split("/")).pop(),s=a.join("/"),0<a.length?[4,this.stat({path:s,directory:o})]:[3,5];case 4:if("directory"!==e.sent().type)throw new Error("Parent directory of the to path is a file");e.label=5;case 5:return[3,6];case 6:if(i&&"directory"===i.type)throw new Error("Cannot overwrite a directory with a file");return[4,this.stat({path:n,directory:r})];case 7:switch(c=e.sent(),u=function(n,r,i){return w(h,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:return t=this.getPath(o,n),[4,this.dbRequest("get",[t])];case 1:return(t=e.sent()).ctime=r,t.mtime=i,[4,this.dbRequest("put",[t])];case 2:return e.sent(),[2]}})})},c.type){case"file":return[3,8];case"directory":return[3,15]}return[3,28];case 8:return[4,this.readFile({path:n,directory:r})];case 9:return l=e.sent(),m?[4,this.deleteFile({path:n,directory:r})]:[3,11];case 10:e.sent(),e.label=11;case 11:return[4,this.writeFile({path:t,directory:o,data:l.data})];case 12:return e.sent(),m?[4,u(t,c.ctime,c.mtime)]:[3,14];case 13:e.sent(),e.label=14;case 14:return[2,{}];case 15:if(i)throw Error("Cannot move a directory over an existing object");e.label=16;case 16:return e.trys.push([16,20,,21]),[4,this.mkdir({path:t,directory:o,recursive:!1})];case 17:return e.sent(),m?[4,u(t,c.ctime,c.mtime)]:[3,19];case 18:e.sent(),e.label=19;case 19:return[3,21];case 20:return e.sent(),[3,21];case 21:return[4,this.readdir({path:n,directory:r})];case 22:f=e.sent().files,p=0,d=f,e.label=23;case 23:return p<d.length?(f=d[p],[4,this._copy({from:n+"/"+f,to:t+"/"+f,directory:r,toDirectory:o},m)]):[3,26];case 24:e.sent(),e.label=25;case 25:return p++,[3,23];case 26:return m?[4,this.rmdir({path:n,directory:r})]:[3,28];case 27:e.sent(),e.label=28;case 28:return[2,{}]}})})},D._debug=!0,D);function A(){return k.call(this,{name:"Geolocation",platforms:["web"]})||this}new(v(A,k=l),A.prototype.getCurrentPosition=function(r){var e=this;return new Promise(function(t,n){return e.requestPermissions().then(function(e){window.navigator.geolocation.getCurrentPosition(function(e){t(e)},function(e){n(e)},N({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},r))})})},A.prototype.watchPosition=function(e,t){return""+window.navigator.geolocation.watchPosition(function(e){t(e)},function(e){t(null,e)},N({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},e))},A.prototype.clearWatch=function(e){return window.navigator.geolocation.clearWatch(parseInt(e.id,10)),Promise.resolve()},A);var I,_=(v(U,I=l),U.prototype.getInfo=function(){return w(this,void 0,void 0,function(){var t;return g(this,function(e){return t=navigator.userAgent,t=this.parseUa(t),[2,Promise.resolve({model:t.model,platform:"web",appVersion:"",appBuild:"",appId:"",appName:"",operatingSystem:t.operatingSystem,osVersion:t.osVersion,manufacturer:navigator.vendor,isVirtual:!1,uuid:this.getUid()})]})})},U.prototype.getBatteryInfo=function(){return w(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:t={},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,navigator.getBattery()];case 2:return t=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2,Promise.resolve({batteryLevel:t.level,isCharging:t.charging})]}})})},U.prototype.getLanguageCode=function(){return w(this,void 0,void 0,function(){return g(this,function(e){return[2,{value:navigator.language}]})})},U.prototype.parseUa=function(e){var t={},n=e.indexOf("(")+1,r=e.indexOf(") AppleWebKit");-1!==e.indexOf(") Gecko")&&(r=e.indexOf(") Gecko"));r=e.substring(n,r);return-1!==e.indexOf("Android")?(t.model=r.replace("; wv","").split("; ").pop().split(" Build")[0],t.osVersion=r.split("; ")[1]):(t.model=r.split("; ")[0],navigator.oscpu?t.osVersion=navigator.oscpu:-1!==e.indexOf("Windows")?t.osVersion=r:(r=r.split("; ").pop().replace(" like Mac OS X","").split(" "),t.osVersion=r[r.length-1].replace(/_/g,"."))),/android/i.test(e)?t.operatingSystem="android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?t.operatingSystem="ios":/Win/.test(e)?t.operatingSystem="windows":/Mac/i.test(e)?t.operatingSystem="mac":t.operatingSystem="unknown",t},U.prototype.getUid=function(){var e=window.localStorage.getItem("_capuid");return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),window.localStorage.setItem("_capuid",e),e)},U);function U(){return I.call(this,{name:"Device",platforms:["web"]})||this}var j;new _;function q(){var e=j.call(this,{name:"LocalNotifications",platforms:["web"]})||this;return e.pending=[],e}var B;new(v(q,j=l),q.prototype.createChannel=function(e){throw new Error("Feature not available in the browser. "+e.id)},q.prototype.deleteChannel=function(e){throw new Error("Feature not available in the browser. "+e.id)},q.prototype.listChannels=function(){throw new Error("Feature not available in the browser")},q.prototype.sendPending=function(){var t=this,n=[],r=+new Date;this.pending.forEach(function(e){e.schedule&&e.schedule.at&&+e.schedule.at<=r&&(t.buildNotification(e),n.push(e))}),console.log("Sent pending, removing",n),this.pending=this.pending.filter(function(t){return!n.find(function(e){return e===t})})},q.prototype.sendNotification=function(e){var t=this,n=e;if(e.schedule&&e.schedule.at){var r=+e.schedule.at-+new Date;return this.pending.push(n),void setTimeout(function(){t.sendPending()},r)}this.buildNotification(e)},q.prototype.buildNotification=function(e){return new Notification(e.title,{body:e.body})},q.prototype.schedule=function(e){var t=this,n=[];return e.notifications.forEach(function(e){n.push(t.sendNotification(e))}),Promise.resolve({notifications:e.notifications.map(function(e){return{id:""+e.id}})})},q.prototype.getPending=function(){return Promise.resolve({notifications:this.pending.map(function(e){return{id:""+e.id}})})},q.prototype.registerActionTypes=function(e){throw new Error("Method not implemented.")},q.prototype.cancel=function(e){return console.log("Cancel these",e),this.pending=this.pending.filter(function(t){return!e.notifications.find(function(e){return e.id===""+t.id})}),Promise.resolve()},q.prototype.areEnabled=function(){return Promise.resolve({value:"granted"===Notification.permission})},q.prototype.requestPermission=function(){return new Promise(function(t){Notification.requestPermission(function(e){t({granted:"denied"!==e&&"default"!==e?!0:!1})})})},q.prototype.requestPermissions=function(){return new Promise(function(t,n){Notification.requestPermission(function(e){"denied"!==e&&"default"!==e?t({results:[e]}):n(e)})})},q);function M(){return B.call(this,{name:"Share",platforms:["web"]})||this}new(v(M,B=l),M.prototype.share=function(e){return navigator.share?navigator.share({title:e.title,text:e.text,url:e.url}):Promise.reject("Web Share API not available")},M);var W,K=(v(V,W=l),V.prototype.alert=function(t){return w(this,void 0,void 0,function(){return g(this,function(e){return window.alert(t.message),[2,Promise.resolve()]})})},V.prototype.prompt=function(n){return w(this,void 0,void 0,function(){var t;return g(this,function(e){return t=window.prompt(n.message,n.inputText||""),[2,Promise.resolve({value:t,cancelled:null===t})]})})},V.prototype.confirm=function(n){return w(this,void 0,void 0,function(){var t;return g(this,function(e){return t=window.confirm(n.message),[2,Promise.resolve({value:t})]})})},V.prototype.showActions=function(n){return w(this,void 0,void 0,function(){var t=this;return g(this,function(e){return[2,new Promise(function(i,e){return w(t,void 0,void 0,function(){var t,r=this;return g(this,function(e){return(t=document.querySelector("pwa-action-sheet"))||(t=document.createElement("pwa-action-sheet"),document.body.appendChild(t)),t.header=n.title,t.cancelable=!1,t.options=n.options,t.addEventListener("onSelection",function(n){return w(r,void 0,void 0,function(){var t;return g(this,function(e){return t=n.detail,i({index:t}),[2]})})}),[2]})})})]})})},V);function V(){return W.call(this,{name:"Modals",platforms:["web"]})||this}var H;new K;function z(){var e=H.call(this,{name:"Motion"})||this;return e.registerWindowListener("devicemotion","accel"),e.registerWindowListener("deviceorientation","orientation"),e}var G;new(v(z,H=l),z);function X(){var e=G.call(this,{name:"Network",platforms:["web"]})||this;return e.listenerFunction=null,e}var Y;new(v(X,G=l),X.prototype.getStatus=function(){return new Promise(function(e,t){var n,r;window.navigator?(n=window.navigator.onLine,r=(r=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection)?r.type||r.effectiveType:"wifi",e({connected:n,connectionType:n?r:"none"})):t("Network info not available")})},X.prototype.addListener=function(e,t){var n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,n=n?n.type||n.effectiveType:"wifi",r=t.bind(this,{connected:!0,connectionType:n}),i=t.bind(this,{connected:!1,connectionType:"none"});if(0===e.localeCompare("networkStatusChange"))return window.addEventListener("online",r),window.addEventListener("offline",i),{remove:function(){window.removeEventListener("online",r),window.removeEventListener("offline",i)}}},X);function $(){return Y.call(this,{name:"Permissions"})||this}var J;new(v($,Y=l),$.prototype.query=function(r){return w(this,void 0,void 0,function(){var t,n;return g(this,function(e){switch(e.label){case 0:return(t=window.navigator).permissions?(n=r.name===c.PermissionType.Photos?"camera":r.name,[4,t.permissions.query({name:n})]):[2,Promise.reject("This browser does not support the Permissions API")];case 1:return[2,{state:e.sent().state}]}})})},$);function Q(){return J.call(this,{name:"SplashScreen",platforms:["web"]})||this}var Z;new(v(Q,J=l),Q.prototype.show=function(e,t){return Promise.resolve()},Q.prototype.hide=function(e,t){return Promise.resolve()},Q);function ee(){var e=Z.call(this,{name:"Storage",platforms:["web"]})||this;return e.KEY_PREFIX="_cap_",e}var te;new(v(ee,Z=l),ee.prototype.get=function(n){var r=this;return new Promise(function(e,t){e({value:window.localStorage.getItem(r.makeKey(n.key))})})},ee.prototype.set=function(n){var r=this;return new Promise(function(e,t){window.localStorage.setItem(r.makeKey(n.key),n.value),e()})},ee.prototype.remove=function(n){var r=this;return new Promise(function(e,t){window.localStorage.removeItem(r.makeKey(n.key)),e()})},ee.prototype.keys=function(){var n=this;return new Promise(function(e,t){e({keys:Object.keys(localStorage).filter(function(e){return n.isKey(e)}).map(function(e){return n.getKey(e)})})})},ee.prototype.clear=function(){var n=this;return new Promise(function(e,t){Object.keys(localStorage).filter(function(e){return n.isKey(e)}).forEach(function(e){return window.localStorage.removeItem(e)}),e()})},ee.prototype.makeKey=function(e){return this.KEY_PREFIX+e},ee.prototype.isKey=function(e){return 0===e.indexOf(this.KEY_PREFIX)},ee.prototype.getKey=function(e){return e.substr(this.KEY_PREFIX.length)},ee);function ne(){return te.call(this,{name:"Toast",platforms:["web"]})||this}new(v(ne,te=l),ne.prototype.show=function(r){return w(this,void 0,void 0,function(){var t,n;return g(this,function(e){return t=2e3,r.duration&&(t="long"===r.duration?3500:2e3),(n=document.createElement("pwa-toast")).duration=t,n.message=r.text,document.body.appendChild(n),[2]})})},ne);y(o);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var re=function(e,t){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ie(e,t){function n(){this.constructor=e}re(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var oe=function(){return(oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ae(e,a,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}o((c=c.apply(e,a||[])).next())})}function se(n,r){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var ce,ue=require("electron"),le=ue.remote,pe=ue.shell,de=new S,fe=(ie(he,ce=l),he.prototype.exitApp=function(){var e=le.getCurrentWindow();throw e&&e.close(),new Error("App quit")},he.prototype.canOpenUrl=function(e){return Promise.resolve({value:!0})},he.prototype.openUrl=function(e){return pe.openExternal(e.url),Promise.resolve({completed:!0})},he.prototype.getLaunchUrl=function(){throw new Error("Method not implemented.")},he.prototype.getState=function(){return de.getState()},he);function he(){return ce.call(this,{name:"App",platforms:["electron"]})||this}var ye,me=new fe,ve=require("electron"),we=ve.clipboard,ge=ve.nativeImage,be=(ie(Pe,ye=l),Pe.prototype.write=function(n){return ae(this,void 0,void 0,function(){return se(this,function(e){return[2,new Promise(function(e){var t;return void 0!==n.string?we.writeText(n.string):n.url?we.write({text:n.url,bookmark:n.label||""}):n.image&&(t=n.image,we.write({image:ge.createFromDataURL(t)})),e()})]})})},Pe.prototype.read=function(){return ae(this,void 0,void 0,function(){return se(this,function(e){return[2,new Promise(function(e){var t=we.availableFormats();if(0<t.length){var n=t[t.length-1];return n.includes("image")?e({value:we.readImage().toDataURL(),type:n}):void 0===(n=t[0])?e({value:"",type:"text/plain"}):"text/plain"===n?e({value:we.readText(),type:n}):"text/html"===n?e({value:we.readHTML(),type:n}):void 0}return e({value:"",type:"text/plain"})})]})})},Pe);function Pe(){return ye.call(this,{name:"Clipboard",platforms:["electron"]})||this}var Se,Ee=new be,xe=require("electron").remote.app,Ce=new _,Le=(ie(Re,Se=l),Re.prototype.getInfo=function(){return ae(this,void 0,void 0,function(){var t;return se(this,function(e){switch(e.label){case 0:return[4,Ce.getInfo()];case 1:return[2,{model:(t=e.sent()).model,platform:"electron",appVersion:xe.getVersion(),appBuild:"",appId:"",appName:"",operatingSystem:t.operatingSystem,osVersion:t.osVersion,manufacturer:navigator.vendor,isVirtual:!1,uuid:t.uuid}]}})})},Re.prototype.getBatteryInfo=function(){return ae(this,void 0,void 0,function(){var t;return se(this,function(e){switch(e.label){case 0:return[4,Ce.getBatteryInfo()];case 1:return[2,{batteryLevel:(t=e.sent()).batteryLevel,isCharging:t.isCharging}]}})})},Re.prototype.getLanguageCode=function(){return ae(this,void 0,void 0,function(){return se(this,function(e){return[2,Ce.getLanguageCode()]})})},Re);function Re(){return Se.call(this,{name:"Device",platforms:["electron"]})||this}var Oe,e=new Le,Fe=(ie(Te,Oe=l),Te.prototype.readFile=function(i){var t=this;return new Promise(function(n,r){-1===Object.keys(t.fileLocations).indexOf(i.directory)&&r(i.directory+" is currently not supported in the Electron implementation.");var e=t.fileLocations[i.directory]+i.path;t.NodeFS.readFile(e,i.encoding||"binary",function(e,t){e?r(e):n({data:i.encoding?t:Buffer.from(t,"binary").toString("base64")})})})},Te.prototype.writeFile=function(a){var s=this;return new Promise(function(t,n){-1===Object.keys(s.fileLocations).indexOf(a.directory)&&n(a.directory+" is currently not supported in the Electron implementation.");var e,r=s.fileLocations[a.directory]+a.path,i=a.data;a.encoding||(e=0<=a.data.indexOf(",")?a.data.split(",")[1]:a.data,i=Buffer.from(e,"base64"));var o=s.Path.dirname(r);s.NodeFS.stat(o,function(e){!e||(e=a.recursive)&&s.NodeFS.mkdirSync(o,{recursive:e}),s.NodeFS.writeFile(r,i,a.encoding||"binary",function(e){e?n(e):t({uri:r})})})})},Te.prototype.appendFile=function(o){var a=this;return new Promise(function(t,n){-1===Object.keys(a.fileLocations).indexOf(o.directory)&&n(o.directory+" is currently not supported in the Electron implementation.");var e,r=a.fileLocations[o.directory]+o.path,i=o.data;o.encoding||(e=0<=o.data.indexOf(",")?o.data.split(",")[1]:o.data,i=Buffer.from(e,"base64")),a.NodeFS.appendFile(r,i,o.encoding||"binary",function(e){e?n(e):t()})})},Te.prototype.deleteFile=function(r){var i=this;return new Promise(function(t,n){-1===Object.keys(i.fileLocations).indexOf(r.directory)&&n(r.directory+" directory is currently not supported in the Electron implementation.");var e=i.fileLocations[r.directory]+r.path;i.NodeFS.unlink(e,function(e){e?n(e):t()})})},Te.prototype.mkdir=function(i){var o=this;return new Promise(function(t,n){-1===Object.keys(o.fileLocations).indexOf(i.directory)&&n(i.directory+" is currently not supported in the Electron implementation.");var e=o.fileLocations[i.directory]+i.path,r=i.recursive;o.NodeFS.mkdir(e,{recursive:r},function(e){e?n(e):t()})})},Te.prototype.rmdir=function(e){var r=this,i=e.path,o=e.directory,t=e.recursive;return-1===Object.keys(this.fileLocations).indexOf(o)?Promise.reject(o+" is currently not supported in the Electron implementation."):this.stat({path:i,directory:o}).then(function(e){return"directory"===e.type?r.readdir({path:i,directory:o}).then(function(e){return 0===e.files.length||t?e.files.length?Promise.all(e.files.map(function(e){return r.rmdir({path:r.Path.join(i,e),directory:o,recursive:t})})).then(function(){return r.rmdir({path:i,directory:o,recursive:t})}):new Promise(function(t,n){var e=r.fileLocations[o]+i;r.NodeFS.rmdir(e,function(e){e?n(e):t()})}):Promise.reject(i+" is not empty.")}):r.deleteFile({path:i,directory:o})})},Te.prototype.readdir=function(t){var i=this;return new Promise(function(n,r){-1===Object.keys(i.fileLocations).indexOf(t.directory)&&r(t.directory+" is currently not supported in the Electron implementation.");var e=i.fileLocations[t.directory]+t.path;i.NodeFS.readdir(e,function(e,t){e?r(e):n({files:t})})})},Te.prototype.getUri=function(n){var r=this;return new Promise(function(e,t){-1===Object.keys(r.fileLocations).indexOf(n.directory)&&t(n.directory+" directory is currently not supported in the Electron implementation."),e({uri:r.fileLocations[n.directory]+n.path})})},Te.prototype.stat=function(e){var t=this;return new Promise(function(n,r){-1===Object.keys(t.fileLocations).indexOf(e.directory)&&r(e.directory+" is currently not supported in the Electron implementation.");var i=t.fileLocations[e.directory]+e.path;t.NodeFS.stat(i,function(e,t){e?r(e):n({type:t.isDirectory()?"directory":t.isFile()?"file":"Not available",size:t.size,ctime:t.ctimeMs,mtime:t.mtimeMs,uri:i})})})},Te.prototype._copy=function(i,o){var s=this;void 0===o&&(o=!1);function c(o,a){return new Promise(function(r,i){s.NodeFS.stat(o,function(e,t){var n;e?i(e):t.isDirectory()?s.NodeFS.mkdir(a,function(e){e?i(e):(e=s.NodeFS.readdirSync(o),Promise.all(e.map(function(e){return c(o+s.Path.sep+e,a+s.Path.sep+e)})).then(function(){return r()}).catch(i))}):(n=s.Path.dirname(a).split(s.Path.sep).pop(),s.NodeFS.stat(n,function(e){e&&s.NodeFS.mkdirSync(n),s.NodeFS.copyFile(o,a,function(e){e?i(e):r()})}))})})}return new Promise(function(t,n){var e,r;i.from&&i.to?(i.toDirectory||(i.toDirectory=i.directory),-1!==Object.keys(s.fileLocations).indexOf(i.directory)?-1!==Object.keys(s.fileLocations).indexOf(i.toDirectory)?(e=s.fileLocations[i.directory]+i.from,r=s.fileLocations[i.toDirectory]+i.to,o?s.NodeFS.rename(e,r,function(e){e?n(e):t()}):c(e,r).then(function(){return t()}).catch(n)):n(i.toDirectory+" is currently not supported in the Electron implementation."):n(i.directory+" is currently not supported in the Electron implementation.")):n("Both to and from must be supplied")})},Te.prototype.copy=function(e){return this._copy(e,!1)},Te.prototype.rename=function(e){return this._copy(e,!0)},Te);function Te(){var e=Oe.call(this,{name:"Filesystem",platforms:["electron"]})||this;e.NodeFS=null,e.fileLocations=null,e.Path=null,e.fileLocations={DRIVE_ROOT:"",DOCUMENTS:""};var t=require("path"),n=require("os");return"win32"==n.platform?e.fileLocations.DRIVE_ROOT=process.cwd().split(t.sep)[0]:e.fileLocations.DRIVE_ROOT="/",e.fileLocations[c.FilesystemDirectory.Documents]=t.join(n.homedir(),"Documents")+t.sep,e.NodeFS=require("fs"),e.Path=t,e}var De,r=new Fe,Ne=new K,o=require("electron").remote,ke=o.dialog,Ae=o.getCurrentWindow,ue=(ie(Ie,De=l),Ie.prototype.alert=function(n){return ae(this,void 0,void 0,function(){var t;return se(this,function(e){switch(e.label){case 0:return t=[n.buttonTitle||"OK"],[4,ke.showMessageBox(Ae(),{message:n.message,title:n.title,buttons:t})];case 1:return[2,e.sent()]}})})},Ie.prototype.prompt=function(n){return ae(this,void 0,void 0,function(){var t;return se(this,function(e){return t=window.prompt(n.message,n.inputText||""),[2,Promise.resolve({value:t,cancelled:null===t})]})})},Ie.prototype.confirm=function(n){return ae(this,void 0,void 0,function(){var t;return se(this,function(e){switch(e.label){case 0:return t=[n.okButtonTitle||"OK",n.cancelButtonTitle||"Cancel"],[4,ke.showMessageBox(Ae(),{message:n.message,title:n.title,buttons:t})];case 1:return[2,{value:0===e.sent().response}]}})})},Ie.prototype.showActions=function(t){return ae(this,void 0,void 0,function(){return se(this,function(e){return[2,Ne.showActions(t)]})})},Ie);function Ie(){return De.call(this,{name:"Modals",platforms:["electron"]})||this}var _e,S=new ue,ve=(ie(Ue,_e=l),Ue.prototype.getStatus=function(){return new Promise(function(e,t){var n,r,i;window.navigator?(n=window.navigator.onLine,i="wifi",(r=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection)&&(i=r.type),e({connected:n,connectionType:n?i:"none"})):t("Network info not available")})},Ue.prototype.addListener=function(e,t){var n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,r="wifi";n&&(r=n.type);var i=t.bind(this,{connected:!0,connectionType:r}),o=t.bind(this,{connected:!1,connectionType:"none"});if(0===e.localeCompare("networkStatusChange"))return window.addEventListener("online",i),window.addEventListener("offline",o),{remove:function(){window.removeEventListener("online",i),window.removeEventListener("offline",o)}}},Ue);function Ue(){var e=_e.call(this,{name:"Network",platforms:["electron"]})||this;return e.listenerFunction=null,e}var je,_=new ve,K=(ie(qe,je=l),qe.prototype.show=function(t,n){return ae(this,void 0,void 0,function(){return se(this,function(e){return this.ipc.send("showCapacitorSplashScreen",oe({},t)),n&&n(),[2]})})},qe.prototype.hide=function(t,n){return ae(this,void 0,void 0,function(){return se(this,function(e){return this.ipc.send("hideCapacitorSplashScreen",oe({},t)),n&&n(),[2]})})},qe);function qe(){var e=je.call(this,{name:"SplashScreen",platforms:["electron"]})||this;return e.ipc=null,e.ipc=require("electron").ipcRenderer,e}o=new K;y(n);return c.Plugins=n,c.registerElectronPlugin=function(e){d(n,e)},c.AppPluginElectron=fe,c.App=me,c.ClipboardPluginElectron=be,c.Clipboard=Ee,c.DevicePluginElectron=Le,c.Device=e,c.FilesystemPluginElectron=Fe,c.Filesystem=r,c.ModalsPluginElectron=ue,c.Modals=S,c.NetworkPluginElectron=ve,c.Network=_,c.SplashScreenPluginElectron=K,c.SplashScreen=o,c.WebPluginRegistry=a,c.WebPlugins=u,c.WebPlugin=l,c.mergeWebPlugins=y,c.mergeWebPlugin=d,c}({});
//# sourceMappingURL=electron-bridge.js.map